<ion-grid fixed="true">
  <div class="container">
    <div>
      <ion-row>
        <ion-col size="12">
          <h2>Create Protest</h2>
          <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div>
              <input
                type="text"
                placeholder="title"
                formControlName="title"
                required
              />
            </div>
            <div>
              <input
                type="text"
                placeholder="description"
                formControlName="description"
                required
              />
            </div>
            <div>
              <input
                type="text"
                placeholder="startDate"
                formControlName="startDate"
                required
              />
            </div>
            <ion-row class="row-items-end">
              <ion-button class="submit-button">Create</ion-button>
              <ion-button class="submit-button">Clear</ion-button>
            </ion-row>
          </form>
        </ion-col>
        <ion-col size="12">
          <h2>Join Protest</h2>
          <form>
            <div>
              <input
                type="text"
                placeholder="protest-code"
                formControlName="protest-code"
                required
              />
            </div>
            <ion-row class="row-items-end">
              <ion-button class="submit-button">Join</ion-button>
              <ion-button class="submit-button">Clear</ion-button>
            </ion-row>
          </form>
        </ion-col>
      </ion-row>
    </div>

    <hr />
    <div *ngIf="data$ | async as data">
      <h2>Created</h2>
      <table table class="protests__table">
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Date</th>
        </tr>
        <tr *ngFor="let protest of data.protestsCreated">
          <td (click)="navigateToProtestOverview(protest)">
            {{ protest.title }}
          </td>
          <td>{{ protest.description }}</td>
          <td>{{ protest.startDate }}</td>
        </tr>
      </table>

      <h2>Joined</h2>
      <table class="protests__table">
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Date</th>
        </tr>
        <tr *ngFor="let protest of data.protestsJoined">
          <td (click)="navigateToProtestOverview(protest)">
            {{ protest.title }}
          </td>
          <td>{{ protest.description }}</td>
          <td>{{ protest.startDate }}</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- add httpinterceptor for checking authentication state -->
</ion-grid>
